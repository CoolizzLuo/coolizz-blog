(this["webpackJsonpcoolizz-blog"]=this["webpackJsonpcoolizz-blog"]||[]).push([[0],{269:function(e,t,n){"use strict";n.r(t);var r,a=n(2),o=n(0),c=n.n(o),s=n(56),i=n.n(s),d=n(34),l=Object(d.b)(r||(r=Object(a.a)(["\n  @font-face {\n    font-family: Cyber;\n    src: url(\"https://assets.codepen.io/605876/Blender-Pro-Bold.otf\");\n    font-display: swap;\n  }\n  * {\n    margin: 0;\n    padding: 0;\n    list-style: none;\n    /* font-family: \"Cyber\", Futura, sans-serif; */\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n    box-sizing: border-box;\n    color: #333;\n    letter-spacing: 1px;\n    line-height: 1.4;\n  }\n  \n  ::-webkit-scrollbar {\n    width: 8px;\n  }\n  ::-webkit-scrollbar-track {\n    -webkit-border-radius: 10px;\n    border-radius: 10px;\n  }\n  ::-webkit-scrollbar-thumb {\n    -webkit-border-radius: 4px;\n    border-radius: 4px;\n    background: rgb(219,219,219);\n  }\n\n  html {\n    font-size: 20px;\n    background: whitesmoke;\n  }\n\n  body {\n    margin: .5rem 0 0;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  input, textarea {\n    font-family: \"Cyber\", -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue';\n  }\n"]))),b=n(9),u=n(4),j=n(19),p=n(7),x=(n(134),n(13)),m=n(20),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(o.useState)(!0),r=Object(b.a)(n,2),a=r[0],c=r[1],s=Object(o.useState)(),i=Object(b.a)(s,2),d=i[0],l=i[1],u=Object(o.useState)(),j=Object(b.a)(u,2),p=j[0],x=j[1],m=Object(o.useCallback)((function(){c(!0),l(void 0),x([]),e().then(x).catch(l).finally((function(){return c(!1)}))}),t);return Object(o.useEffect)((function(){m()}),[m]),{loading:a,error:d,data:p}},h={headers:{"Content-Type":"application/json"}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return f((function(){return fetch(e,Object(m.a)(Object(m.a)({},h),t)).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}),n)},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=Object(o.useState)(Number(t)),a=Object(b.a)(r,2),c=a[0],s=a[1],i=Object(o.useMemo)((function(){return Math.ceil(e.length/n)}),[e,n]),d=Object(o.useMemo)((function(){return e.slice((c-1)*n,c*n)}),[e,c,n]);return{currPage:c,setCurrPage:s,totalPage:i,pageData:d}},v=n(5),w=n(14),y=n(27),k=n(10),C=n(17),S=n(1);C.b.add(y.a);var z,P,L,F,q,$,B,E,U,R=Object(v.a)("ul",{target:"e1ymjefz2"})({name:"rd8ofl",styles:"display:flex;justify-content:center;margin:.4rem 0"}),D=Object(v.a)("li",{target:"e1ymjefz1"})({name:"u4vann",styles:"color:#428bca;font-size:.7rem;font-weight:500;border:1px solid transparent;width:30px;height:30px;line-height:28px;text-align:center;user-select:none;margin-left:8px;path{color:#428bca;}"}),M=Object(v.a)(D,{target:"e1ymjefz0"})("border:1px solid #428bca;border-radius:6px;box-shadow:1px 1px #ccc;cursor:pointer;transition:transform .3s;",(function(e){return e.$active&&"\n    color: #eee;\n    background: #428bca;\n    border-color: #eee;\n    transform: translate(0px, -2px);\n    path {\n      color: #eee;\n    }\n  "})," &:hover{color:#eee;background:#428bca;border-color:#eee;path{color:#eee;}}",(function(e){return e.$hide&&"\n    visibility: hidden;\n  "}),";"),I=function(e){var t=e.totalPage,n=e.currentPage,r=void 0===n?1:n,a=e.setCurrentPage,o=(e.siblingCount,e.boundaryCount,Array.from({length:t},(function(e,t){return t+1}))),c=r<6?o.slice(0,6):r>t-5?o.slice(t-6):o.slice(r-2,r+1),s=function(e){var t=e.value;return Object(S.jsx)(M,{$active:r===t,onClick:function(){return a(t)},children:t})};return Object(S.jsxs)(R,{children:[Object(S.jsx)(M,{$hide:r<=1,onClick:function(){return a((function(e){return--e}))},children:Object(S.jsx)(w.a,{icon:k.d})}),t<11&&o.map((function(e){return Object(S.jsx)(s,{value:e},"pageLi-".concat(e))})),t>=11&&Object(S.jsxs)(S.Fragment,{children:[r>5&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(s,{value:1},"pageLi-1"),Object(S.jsx)(s,{value:2},"pageLi-2"),Object(S.jsx)(D,{children:Object(S.jsx)(w.a,{icon:k.f})})]}),c.map((function(e){return Object(S.jsx)(s,{value:e},"pageLi-".concat(e))})),r<=t-5&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(D,{children:Object(S.jsx)(w.a,{icon:k.f})}),Object(S.jsx)(s,{value:t-1},"pageLi-".concat(t-1)),Object(S.jsx)(s,{value:t},"pageLi-".concat(t))]})]}),Object(S.jsx)(M,{$hide:r>=t,onClick:function(){return a((function(e){return++e}))},children:Object(S.jsx)(w.a,{icon:k.e})})]})},N=Object(o.createContext)(null),H=u.a.article(z||(z=Object(a.a)(["\n  position: relative;\n  background: #fff;\n  padding: 1.2rem 1.6rem;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  border-radius: 6px;\n  box-shadow: 0 1px 2px rgb(0 0 0 / 10%);\n  /* box-shadow: rgb(0 0 0 / 10%) 0px 1px 3px 1px, rgb(0 0 0 / 10%) 0px 1px 5px 1px; */\n  overflow: auto;\n\n  /* & + & {\n    border-top: 1px solid rgba(0, 12, 34, 0.2);\n  } */\n"]))),A=u.a.header(P||(P=Object(a.a)(["\n  width: 100%;\n  text-align: left;\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\n"]))),T=u.a.section(L||(L=Object(a.a)(["\n  font-size: .8rem;\n  text-align: left;\n  margin: 1rem 0;\n"]))),_=Object(u.a)(j.b)(F||(F=Object(a.a)(["\n  display: block;\n  font-size: 1rem;\n  font-weight: 700;\n  color: #428bca;\n  text-decoration: none;\n  overflow: hidden;\n"]))),J=u.a.div(q||(q=Object(a.a)(["\n  display: flex;\n  font-size: .6rem;\n  padding: .4rem 0;\n\n  path, span {\n    color: #aaa;\n  }\n\n  svg {\n    margin-right: .2rem;\n  }\n\n  span {\n    margin-right: .8rem;\n  }\n"]))),K=u.a.span($||($=Object(a.a)(["\n  font-weight: 500;\n"]))),W=u.a.span(B||(B=Object(a.a)(["\n"]))),V=u.a.span(E||(E=Object(a.a)(["\n"]))),G=Object(u.a)(j.b)(U||(U=Object(a.a)(["\n  position: absolute;\n  right: 1.6rem;\n  bottom: .8rem;\n  font-size: .6rem;\n  color: #338ccc;\n\n  &:hover {\n    font-weight: 700;\n    box-shadow: ;\n  }\n"])));C.b.add(y.a);var Q,X,Y,Z,ee,te,ne,re,ae,oe,ce=Object(v.a)(H,{target:"e12tubg61"})({name:"k82dzb",styles:"margin:2rem 0"}),se=Object(v.a)(T,{target:"e12tubg60"})({name:"1wa8uuh",styles:"width:100%;word-wrap:break-word;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;line-clamp:3;-webkit-line-clamp:3;box-orient:vertical;-webkit-box-orient:vertical"}),ie=function(e){var t,n,r=e.post,a=e.userList,o=r.id,c=r.title,s=r.body,i=r.userId,d=r.createdAt,l=s.split("\n").slice(0,2).join(" ");return Object(S.jsxs)(ce,{children:[Object(S.jsxs)(A,{children:[Object(S.jsx)(_,{to:{pathname:"/post/".concat(o),state:{post:r}},children:c}),Object(S.jsxs)(J,{children:[Object(S.jsxs)(W,{children:[Object(S.jsx)(w.a,{icon:k.c}),(n=d,new Date(n).toLocaleString("zh-TW",{hour12:!1}))]}),Object(S.jsxs)(K,{children:[Object(S.jsx)(w.a,{icon:k.i}),null===(t=function(e){return a.find((function(t){return t.id===e}))}(i))||void 0===t?void 0:t.username]}),Object(S.jsxs)(V,{children:[Object(S.jsx)(w.a,{icon:k.g}),"Lidemy Student"]})]})]}),Object(S.jsx)(se,{children:l}),Object(S.jsx)(G,{to:"/post/".concat(o),children:"Read More"})]})},de=function(e){var t=e.defaultPage,n=void 0===t?1:t,r=Object(o.useContext)(N),a=r.userList,c=r.setPostData,s=Object(x.f)(),i=Object(o.useRef)(null),d=g("https://student-json-api.lidemy.me/posts?_sort=createdAt&_order=desc"),l=d.loading,b=d.error,u=d.data,j=void 0===u?[]:u,m=O(j,n),f=m.currPage,h=m.setCurrPage,v=m.totalPage,w=m.pageData;return Object(o.useEffect)((function(){return l?i.current=p.b.loading("loading..."):p.b.dismiss(i.current),function(){return p.b.dismiss(i.current)}}),[l]),Object(o.useEffect)((function(){b&&p.b.error("Network error")}),[b]),Object(o.useEffect)((function(){v&&(n>v||n<1)&&(p.b.error("Maximum number of pages exceeded",{position:"top-right",autoClose:2e3,hideProgressBar:!0}),h(1))}),[n,v,h]),Object(o.useEffect)((function(){return s.push("/?page="+f)}),[s,f]),Object(o.useEffect)((function(){return c(j)}),[c,j]),!l&&Object(S.jsxs)(S.Fragment,{children:[w.map((function(e){return Object(S.jsx)(ie,{post:e,userList:a},e.id)})),Object(S.jsx)(I,{totalPage:v,currentPage:f,setCurrentPage:h,siblingCount:0})]})},le=u.a.div(Q||(Q=Object(a.a)(["\n  width: 100%;\n  padding: 0 .5rem;\n"]))),be=function(e){var t=e.location,n=new URLSearchParams(t.search).get("page")||1;return Object(S.jsx)(le,{children:Object(S.jsx)(de,{defaultPage:n})})},ue=u.a.div(X||(X=Object(a.a)(["\n  margin: 2rem auto 0;\n  padding: 2rem;\n  font-size: calc(20px + 0.33vw);\n  text-align: left;\n"]))),je=function(){return Object(S.jsxs)(ue,{children:[Object(S.jsx)("h1",{children:"Hello"}),Object(S.jsx)("h3",{children:"\u6211\u662f Enzo"}),Object(S.jsx)("p",{children:"\u662f\u4e00\u540d\u7cfb\u7d71\u7dad\u904b\u5de5\u7a0b\u5e2b\uff0c\u8208\u8da3\u5beb coding"}),Object(S.jsx)("p",{children:"\u5e74\u5f8c\u6e96\u5099\u8f49\u8077\u6210\u8edf\u9ad4\u958b\u767c\u5de5\u7a0b\u5e2b"}),Object(S.jsx)("p",{children:"\u9019\u908a\u4ee5\u5f8c\u6703\u8f49\u578b\u6210\u6280\u8853\u90e8\u843d\u683c. \u4e5f\u8a31\u5427"})]})},pe=n(3),xe=n.n(pe),me=n(12),fe=n(123),he=n(124),ge=n.n(he),Oe=n(25),ve=n(38),we=n(18),ye=n(128),ke=n.n(ye),Ce="token",Se=function(e){return localStorage.setItem(Ce,e)},ze=function(){return localStorage.getItem(Ce)},Pe=function(e){var t=ke.a.create({baseURL:e||"https://student-json-api.lidemy.me/",timeout:1e3});return t.interceptors.request.use((function(e){var t=ze();return e.headers.Authorization="Bearer "+t,e}),(function(e){return Promise.reject(e)})),t}(),Le=u.a.div(Y||(Y=Object(a.a)(["\n  margin: 2rem auto 0;\n  padding: 1rem;\n  max-width: 760px;\n  background: #fff;\n  /* border: 1px solid #ccc; */\n  border-radius: 6px;\n  box-shadow: 0 1px 2px rgb(0 0 0 / 10%);\n  /* box-shadow: rgb(0 0 0 / 10%) 0px 1px 3px 1px, rgb(0 0 0 / 10%) 0px 1px 5px 1px; */\n"]))),Fe=u.a.h2(Z||(Z=Object(a.a)(["\n  text-align: center;\n"]))),qe=u.a.form(ee||(ee=Object(a.a)(["\n  margin: 1rem 0 0;\n"]))),$e=u.a.label(te||(te=Object(a.a)(["\n  text-align: left;\n  display: block;\n"]))),Be=u.a.input(ne||(ne=Object(a.a)(["\n  min-width: 100%;\n  max-width: 100%;\n  padding: .6rem;\n  margin: .8rem 0 1rem;\n  font-size: 1rem;\n  background: #fff;\n  border: 1px solid #c4c4c4;\n  border-radius: 2px;\n  outline: none;\n"]))),Ee=(u.a.textarea(re||(re=Object(a.a)(["\n  min-width: 100%;\n  max-width: 100%;\n  min-height: 200px;\n  padding: .6rem;\n  margin: .8rem 0 1rem;\n  font-size: 1rem;\n  background: #ddd;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n"]))),Object(u.a)(fe.CKEditor)(ae||(ae=Object(a.a)(["\n  min-height: 200px;\n  margin: .8rem 0 1rem;\n"])))),Ue=u.a.button(oe||(oe=Object(a.a)(["\n  font-size: .9rem;\n  padding: .3rem 1rem;\n  width: 100%;\n  margin-top: .5rem;\n  /* background-color: #a29bfe; */\n  background-color: #428bca;\n  border-color: transparent;\n  border-radius: 4px;\n  box-shadow: 2px 2px 2px #666;\n  color: #fff;\n  cursor: pointer;\n  transition: all .3s;\n\n  &:active {\n    transform: translate(2px, 2px);\n    box-shadow: none;\n  }\n  &:hover {\n    transform: scale(1.05);\n  }\n"]))),Re=we.b({title:we.d().required()}).required(),De=function(){var e=Object(o.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(x.f)(),c=Object(Oe.d)({resolver:Object(ve.a)(Re)}),s=c.register,i=c.handleSubmit,d=c.reset,l=c.formState.errors,u=function(){var e=Object(me.a)(xe.a.mark((function e(t){var r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.title,p.b.promise(Pe.post("/posts",{title:r,body:n}),{pending:"Loading...",success:{render:function(e){var t,n=e.data;return(null===(t=n.data)||void 0===t?void 0:t.id)?(a.push("/"),"Post Successful !"):n.data.message}},error:{render:function(e){e.data;return d(),a.push("/"),"Post Fail !"}}},{autoClose:3e3});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(Le,{children:[Object(S.jsx)(Fe,{children:"Post an article"}),Object(S.jsxs)(qe,{onSubmit:i(u),children:[Object(S.jsxs)($e,{children:["Title:",Object(S.jsx)(Be,Object(m.a)({type:"text",placeholder:"Please input title...",$danger:l.title},s("title")))]}),Object(S.jsx)($e,{children:"Content:"}),Object(S.jsx)(Ee,{editor:ge.a,data:"<p>Hello from CKEditor 5!</p>",onReady:function(e){return console.log("Editor is ready to use!",e)},onChange:function(e,t){var n=t.getData();console.log({event:e,editor:t,data:n}),r(t.getData())},onBlur:function(e,t){return console.log("Blur.",t)},onFocus:function(e,t){return console.log("Focus.",t)}}),Object(S.jsx)(Ue,{children:"Submit"})]})]})};var Me,Ie=Object(v.a)("div",{target:"e1zeili0"})({name:"12a4lxf",styles:"position:fixed;display:flex;justify-content:center;align-items:flex-start;inset:0;background:rgba(0, 0, 0, .5);backdrop-filter:blur(2px);transition:all .2s;z-index:99"}),Ne=function(e){var t=e.children;return Object(S.jsx)(Ie,{children:t})};C.b.add(y.a);var He,Ae,Te,_e,Je,Ke,We=Object(u.a)(H)(Me||(Me=Object(a.a)(["\n  margin: .5rem 0 1rem;\n  width: 100%;\n  user-select: none;\n"]))),Ve=function(e){var t,n,r=e.post,a=e.userList,o=r.id,c=r.title,s=r.body,i=r.userId,d=r.createdAt;return Object(S.jsxs)(We,{children:[Object(S.jsxs)(A,{children:[Object(S.jsx)(_,{to:"/post/".concat(o),children:c}),Object(S.jsxs)(J,{children:[Object(S.jsxs)(W,{children:[Object(S.jsx)(w.a,{icon:k.c}),(n=d,new Date(n).toLocaleString("zh-TW",{hour12:!1}))]}),Object(S.jsxs)(K,{children:[Object(S.jsx)(w.a,{icon:k.i}),null===(t=function(e){return a.find((function(t){return t.id===e}))}(i))||void 0===t?void 0:t.username]}),Object(S.jsxs)(V,{children:[Object(S.jsx)(w.a,{icon:k.g}),"Lidemy Student"]})]})]}),Object(S.jsx)(T,{children:s})]})},Ge=function(e){var t=e.postId,n=Object(x.f)(),r=Object(o.useContext)(N).userList,a=g("https://student-json-api.lidemy.me/posts/".concat(t)),c=a.loading,s=a.error,i=a.data,d=Object(o.useRef)(null);return Object(o.useEffect)((function(){return c?d.current=p.b.loading("loading..."):p.b.dismiss(d.current),function(){return p.b.dismiss(d.current)}}),[c]),Object(o.useEffect)((function(){s&&(p.b.error("Can\t found post"),n.push("/"))}),[s,n]),!c&&Object(S.jsx)(Ve,{post:i,userList:r})};C.b.add(y.a);var Qe,Xe,Ye,Ze,et,tt,nt,rt=u.a.div(He||(He=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  font-size: .8rem;\n  max-height: calc(100vh - 100px);\n  width: 768px;\n  padding: 0rem 1.25rem;\n  margin: 4rem 0 0;\n  border-radius: 10px;\n  background: #eee;\n  /* box-shadow: 0 0.5em 1em -0.125em rgb(10 10 10 / 10%), 0 0px 0 1px rgb(10 10 10 / 2%); */\n"]))),at=u.a.nav(Ae||(Ae=Object(a.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 0 -.5rem;\n  font-size: 1.4rem;\n  a {\n    cursor: pointer;\n  }\n  path {\n    color: #333;\n    transition: all .1s;\n    &:hover {\n      color: #666;\n      transform: scale(1.1)\n    }\n  }\n"]))),ot=u.a.div(Te||(Te=Object(a.a)(["\n"]))),ct=u.a.a(_e||(_e=Object(a.a)(["\n  ","\n"])),(function(e){return e.$disable&&"\n    path {\n      color: #ccc;\n    }\n  "})),st=u.a.a(Je||(Je=Object(a.a)(["\n  margin-left: 1rem;\n  ","\n"])),(function(e){return e.$disable&&"\n    path {\n      color: #ccc;\n    }\n  "})),it=Object(u.a)(j.b)(Ke||(Ke=Object(a.a)(["\n  font-size: 1.6rem;\n"]))),dt=function(e){var t=e.history,n=(e.location,Object(o.useContext)(N)),r=n.userList,a=n.postData,c=Object(x.g)().id,s=Object(o.useMemo)((function(){return a.findIndex((function(e){return Number(c)===e.id}))}),[a,c]),i=a[s],d=Object(o.useCallback)((function(){if(s>=a.length-1)return p.b.dismiss(),void p.b.warn("\u5df2\u7d93\u662f\u6700\u53e4\u8001\u7684\u6587\u7ae0\u4e86\uff01",{autoClose:1e3,hideProgressBar:!0});t.push("".concat(a[s+1].id))}),[t,s,a]),l=Object(o.useCallback)((function(){if(s<=0)return p.b.dismiss(),void p.b.warn("\u5df2\u7d93\u662f\u6700\u65b0\u7684\u6587\u7ae0\u4e86\uff01",{autoClose:1e3,hideProgressBar:!0});t.push("".concat(a[s-1].id))}),[t,s,a]);return Object(S.jsx)(Ne,{children:Object(S.jsxs)(rt,{children:[Object(S.jsxs)(at,{children:[Object(S.jsx)(ot,{children:-1!==s&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ct,{$disable:s>=a.length-1,onClick:d,children:Object(S.jsx)(w.a,{icon:k.a})}),Object(S.jsx)(st,{$disable:s<=0,onClick:l,children:Object(S.jsx)(w.a,{icon:k.b})})]})}),Object(S.jsx)(it,{to:"/",children:Object(S.jsx)(w.a,{icon:k.h})})]}),i?Object(S.jsx)(Ve,{post:i,userList:r}):Object(S.jsx)(Ge,{postId:c})]})})},lt=(u.a.div(Qe||(Qe=Object(a.a)(["\n  margin: 2rem auto 0;\n  padding: 2rem;\n  font-size: calc(20px + 0.33vw);\n  text-align: left;\n"]))),u.a.table(Xe||(Xe=Object(a.a)([""]))),u.a.thead(Ye||(Ye=Object(a.a)([""]))),u.a.tbody(Ze||(Ze=Object(a.a)([""]))),u.a.tr(et||(et=Object(a.a)([""]))),u.a.td(tt||(tt=Object(a.a)([""]))),u.a.div(nt||(nt=Object(a.a)(["\n  text-align: left;\n"])))),bt=function(e){var t=e.post;return Object(S.jsxs)(lt,{children:[Object(S.jsx)("span",{children:t.title}),Object(S.jsx)("button",{children:"\u522a\u9664"})]})},ut=function(e){e.defaultPage;var t=Object(o.useContext)(N).userList,n=(Object(x.f)(),Object(o.useRef)(null)),r=g("https://student-json-api.lidemy.me/posts?_sort=createdAt&_order=desc"),a=r.loading,c=r.error,s=r.data,i=void 0===s?[]:s;return Object(o.useEffect)((function(){return a?n.current=p.b.loading("loading..."):p.b.dismiss(n.current),function(){return p.b.dismiss(n.current)}}),[a]),Object(o.useEffect)((function(){c&&p.b.error("Network error")}),[c]),!a&&Object(S.jsx)(S.Fragment,{children:i.map((function(e){return Object(S.jsx)(bt,{post:e,userList:t},e.id)}))})},jt=function(){return Object(S.jsx)("h1",{children:"Not Found Page"})},pt=function(){return Object(S.jsxs)(x.c,{children:[Object(S.jsx)(x.a,{path:"/",exact:!0,component:be}),Object(S.jsx)(x.a,{path:"/about",component:je}),Object(S.jsx)(x.a,{path:"/new_post",component:De}),Object(S.jsx)(x.a,{path:"/post/:id([1-9]|[1-9]*[0-9]+)",component:dt}),Object(S.jsx)(x.a,{path:"/console",component:ut}),Object(S.jsx)(x.a,{path:"*",component:jt})]})},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(o.useState)(e),n=Object(b.a)(t,2),r=n[0],a=n[1],c=Object(o.useCallback)((function(){return a((function(e){return!e}))}),[]);return[r,c]},mt=n(59);var ft=Object(v.a)("h2",{target:"eqlvaf310"})({name:"1bvh8bk",styles:"margin:2rem 0 0;text-align:center"}),ht=Object(v.a)("form",{target:"eqlvaf39"})({name:"ferpkv",styles:"margin:1.5rem 0 1rem"}),gt=Object(v.a)("div",{target:"eqlvaf38"})({name:"1c4td0t",styles:"position:relative;width:100%;margin:.75rem 0 .75rem"}),Ot=Object(v.a)("div",{target:"eqlvaf37"})({name:"102mht6",styles:"font-size:.85rem;position:absolute;top:0;bottom:0;padding:.7rem .7rem .5rem;color:#aaa;transition:transform 0.1s;pointer-events:none"}),vt=Object(v.a)("input",{target:"eqlvaf36"})("font-size:.9rem;width:100%;border:1px #dbdbdb solid;border:1px solid transparent;border-radius:5px;padding:1rem .7rem .4rem;margin:0 0 .6rem;outline:none;letter-spacing:0.5px;background:#f1f5ff;color:#363636;box-shadow:inset 0 0.0625em 0.125em rgb(10 10 10 / 5%);&:placeholder-shown::placeholder{color:transparent;}&:focus{box-shadow:1px 1px 1px #ccc;}&:focus+",Ot,",&:not(:placeholder-shown)+",Ot,"{color:#757575;transform:scale(0.75) translate(-18px, -22px);}",(function(e){return e.$danger&&"\n    border-color: #f02849;\n  "}),";"),wt=Object(v.a)("div",{target:"eqlvaf35"})({name:"pp9nji",styles:"position:relative;width:100%;margin:1.25rem 0 .75rem"}),yt=Object(v.a)("label",{target:"eqlvaf34"})("display:grid;grid-template-columns:1rem auto;gap:0.5em;line-height:1.2;font-size:13px;color:#757575;font-weight:500;margin:10px 0px 25px;cursor:pointer;",(function(e){return e.$danger&&"\n    color: #f02849;\n  "}),";"),kt=Object(v.a)("input",{target:"eqlvaf33"})({name:"srejxe",styles:"transform:translate(3px, 3px)"}),Ct=Object(v.a)("p",{target:"eqlvaf32"})({name:"12b3o06",styles:"font-size:.6rem;font-weight:500;position:absolute;bottom:-.5rem;width:100%;text-align:right;color:#f02849"}),St=Object(v.a)("button",{target:"eqlvaf31"})({name:"8p6f12",styles:"font-size:.9rem;padding:.3rem 1rem;width:100%;margin-top:.5rem;background-color:#428bca;border-color:transparent;border-radius:4px;box-shadow:2px 2px 2px #666;color:#fff;cursor:pointer;transition:all .3s;&:active{transform:translate(2px, 2px);box-shadow:none;}&:hover{transform:scale(1.05);}"}),zt=Object(v.a)("div",{target:"eqlvaf30"})({name:"1bs26x2",styles:"display:flex;justify-content:center;p{color:#aaa;}button{position:relative;font-weight:500;color:#428bca;background:transparent;margin-left:10px;border:none;cursor:pointer;&::after{content:'';position:absolute;bottom:0;right:0;left:0;width:0%;height:2px;background:#428bca;transition:width 1s .2s;}&:hover::after{width:100%;}}"}),Pt=we.b({username:we.d().required(),password:we.d().min(6).max(18).required()}).required(),Lt=function(e){var t=e.toggleModal,n=e.switchForm,r=Object(o.useContext)(N).setUser,a=Object(Oe.d)({resolver:Object(ve.a)(Pt)}),c=a.register,s=a.handleSubmit,i=a.reset,d=a.formState.errors,l=function(){var e=Object(me.a)(xe.a.mark((function e(n){var a,o;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.username,o=n.password,p.b.promise(Pe.post("/login",{username:a,password:o}),{pending:"Loading...",success:{render:function(e){var n,a=e.data;if(1!==(null===(n=a.data)||void 0===n?void 0:n.ok))return a.data.message;var o=a.data.token,c=Object(mt.a)(o).username;return Se(o),r(c),t(),"Hi, ".concat(c," welcome")||!1}},error:{render:function(e){var t,n,r=e.data;return i(),(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Login rejected \ud83e\udd2f"}}},{autoClose:3e3});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ft,{children:"Log into Blog"}),Object(S.jsxs)(ht,{onSubmit:s(l),children:[Object(S.jsxs)(gt,{children:[Object(S.jsx)(vt,Object(m.a)({type:"text",placeholder:"...",$danger:d.username},c("username"))),Object(S.jsx)(Ot,{children:"Username"}),d.username&&Object(S.jsx)(Ct,{children:d.username.message})]}),Object(S.jsxs)(gt,{children:[Object(S.jsx)(vt,Object(m.a)({type:"password",placeholder:"...",$danger:d.password},c("password"))),Object(S.jsx)(Ot,{children:"Password"}),d.password&&Object(S.jsx)(Ct,{children:d.password.message})]}),Object(S.jsx)(St,{children:"Log In"})]}),Object(S.jsxs)(zt,{children:[Object(S.jsx)("p",{children:"Don't have an account?"}),Object(S.jsx)("button",{onClick:n,children:"Sign up"})]})]})},Ft=we.b({nickname:we.d().min(2).max(8).required(),username:we.d().min(4).max(8).required(),password:we.d().min(6).max(12).required(),confirmPassword:we.d().min(6).max(12).oneOf([we.c("password"),null],"Passwords must be match").required(),checkRules:we.a().oneOf([!0],"(must be required)")}).required(),qt=function(e){var t=e.toggleModal,n=e.switchForm,r=Object(o.useContext)(N).setUser,a=Object(Oe.d)({resolver:Object(ve.a)(Ft)}),c=a.register,s=a.handleSubmit,i=a.reset,d=a.formState.errors,l=function(){var e=Object(me.a)(xe.a.mark((function e(n){var a,o,c;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.nickname,o=n.username,c=n.password,p.b.promise(Pe.post("/register",{nickname:a,username:o,password:c}),{pending:"Loading...",success:{render:function(e){var n,a=e.data;if(1!==(null===(n=a.data)||void 0===n?void 0:n.ok))return a.data.message;var o=a.data.token,c=Object(mt.a)(o).username;return Se(o),r(c),t(),"Hi, ".concat(c," welcome")||!1}},error:{render:function(e){var t,n=e.data;return i(),(null===(t=n.response.data)||void 0===t?void 0:t.message)||"Login rejected \ud83e\udd2f"}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ft,{children:"Create an account"}),Object(S.jsxs)(ht,{onSubmit:s(l),children:[Object(S.jsxs)(gt,{children:[Object(S.jsx)(vt,Object(m.a)({type:"text",placeholder:"...",$danger:d.nickname},c("nickname"))),Object(S.jsx)(Ot,{children:"Nickname"}),d.nickname&&Object(S.jsx)(Ct,{children:d.nickname.message})]}),Object(S.jsxs)(gt,{children:[Object(S.jsx)(vt,Object(m.a)({type:"text",placeholder:"...",$danger:d.username},c("username"))),Object(S.jsx)(Ot,{children:"Username"}),d.username&&Object(S.jsx)(Ct,{children:d.username.message})]}),Object(S.jsxs)(gt,{children:[Object(S.jsx)(vt,Object(m.a)({type:"password",placeholder:"...",$danger:d.password},c("password"))),Object(S.jsx)(Ot,{children:"Password"}),d.password&&Object(S.jsx)(Ct,{children:d.password.message})]}),Object(S.jsxs)(gt,{children:[Object(S.jsx)(vt,Object(m.a)({type:"password",placeholder:"...",$danger:d.confirmPassword},c("confirmPassword"))),Object(S.jsx)(Ot,{children:"Confirm Password"}),d.confirmPassword&&Object(S.jsx)(Ct,{children:d.confirmPassword.message})]}),Object(S.jsx)(wt,{children:Object(S.jsxs)(yt,{$danger:d.checkRules,children:[Object(S.jsx)(kt,Object(m.a)({type:"checkbox",$danger:d.checkRules},c("checkRules"))),"By creating account, you agree to accept our Privacy Policy, Terms of Service and Notification settings. ",d.checkRules&&d.checkRules.message]})}),Object(S.jsx)(St,{children:"Sing Up"})]}),Object(S.jsxs)(zt,{children:[Object(S.jsx)("p",{children:"Already have an account?"}),Object(S.jsx)("button",{onClick:n,children:"Log in"})]})]})};C.b.add(y.a);var $t=Object(v.a)("div",{target:"e1887xno1"})({name:"yghkzg",styles:"position:relative;font-size:.8rem;width:400px;padding:1.5rem 1.25rem 1.25rem;margin:3rem 0 0;border-radius:10px;background:#fff;box-shadow:0 0.5em 1em -0.125em rgb(10 10 10 / 10%),0 0px 0 1px rgb(10 10 10 / 2%);user-select:none"}),Bt=Object(v.a)("div",{target:"e1887xno0"})({name:"g6128f",styles:"font-size:.7rem;position:absolute;top:32px;left:28px;cursor:pointer;& span{margin-left:10px;}&::after{content:'';position:absolute;bottom:-4px;right:0;left:0;width:0%;height:2px;background:#428bca;transition:width 1s .2s;}&:hover{font-weight:700;}&:hover::after{width:100%;}"}),Et=function(e){var t=e.handleToggle,n=xt(!0),r=Object(b.a)(n,2),a=r[0],o=r[1];return Object(S.jsx)(Ne,{children:Object(S.jsxs)($t,{children:[Object(S.jsxs)(Bt,{onClick:t,children:[Object(S.jsx)(w.a,{icon:k.a}),Object(S.jsx)("span",{children:"Back"})]}),a?Object(S.jsx)(Lt,{toggleModal:t,switchForm:o}):Object(S.jsx)(qt,{toggleModal:t,switchForm:o})]})})};var Ut=Object(v.a)("header",{target:"ejo6f2m4"})({name:"10g11oy",styles:"display:flex;width:100%;justify-content:space-between;align-items:center"}),Rt=Object(v.a)("div",{target:"ejo6f2m3"})({name:"zjik7",styles:"display:flex"}),Dt=Object(v.a)(j.c,{activeClassName:"active",target:"ejo6f2m2"})({name:"ubrxyn",styles:"justify-content:center;align-items:center;box-sizing:border-box;padding:2px 12px;border-radius:8px;cursor:pointer;color:#999;text-decoration:none;user-select:none;&+&{margin-left:6px;}&.active{color:#000;}&:hover{color:#444;background:#ddd;}"}),Mt=Object(v.a)("span",{target:"ejo6f2m1"})({name:"1rpfpa9",styles:"font-size:1rem;font-weight:700;margin-right:1rem;user-select:none"}),It=Object(v.a)("button",{target:"ejo6f2m0"})({name:"1nst1p8",styles:"font-size:.8rem;font-weight:700;padding:2px 8px;background-color:#428bca;border-color:transparent;border-radius:4px;box-shadow:2px 2px 2px #666;color:#fff;cursor:pointer;user-select:none;transition:all .3s;&:active{transform:translate(2px, 2px);box-shadow:none;}"}),Nt=function(){var e=xt(),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(o.useContext)(N),c=a.user,s=a.setUser;return Object(S.jsxs)(Ut,{children:[n&&Object(S.jsx)(Et,{handleToggle:r}),Object(S.jsxs)(Rt,{children:[Object(S.jsx)(Dt,{exact:!0,to:"/",children:"Home"}),c&&Object(S.jsx)(Dt,{to:"/new_post",children:"Post"}),Object(S.jsx)(Dt,{to:"/about",children:"About"})]}),Object(S.jsxs)("div",{children:[(null===c||void 0===c?void 0:c.username)&&Object(S.jsx)(Mt,{children:"Hi "+c.username}),c?Object(S.jsx)(It,{onClick:function(){localStorage.removeItem(Ce),s(null),p.b.warn("Logout success !",{autoClose:3e3})},children:"log out"}):Object(S.jsx)(It,{onClick:r,children:"login"})]})]})};var Ht,At,Tt,_t=Object(v.a)("footer",{target:"e9x4unn0"})({name:"4dg4n1",styles:"font-family:\"Cyber\",-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue';font-size:.8rem;padding:16px 0 0;text-align:center;user-select:none;a{font-family:\"Cyber\",-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue';font-style:italic;color:#74b9ff;}"}),Jt=function(){return Object(S.jsxs)(_t,{children:["\xa9 copyright 2021 by ",Object(S.jsx)("a",{href:"https://github.com/CoolizzLuo",target:"_blank",rel:"noreferrer",children:"Enzo"})]})},Kt="https://student-json-api.lidemy.me",Wt=function(){var e=Object(me.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(Kt,"/users")).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(me.a)(xe.a.mark((function e(){var t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ze(),e.abrupt("return",fetch("".concat(Kt,"/me"),{headers:{authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Gt=u.a.div(Ht||(Ht=Object(a.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 0 auto;\n  padding: 0 30px;\n  max-width: 768px;\n"]))),Qt=u.a.div(At||(At=Object(a.a)(["\n  text-align: center;\n  width: 100%;\n  /* height: calc(100vh - 204px); */\n  height: calc(100vh - 48px - 53px - .5rem);\n  overflow: overlay;\n  margin: 24px 0 0;\n  padding: 0 1rem;\n  /* padding: 24px 0 0; */\n"]))),Xt=function(){var e=Object(o.useState)(null),t=Object(b.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)([]),c=Object(b.a)(a,2),s=c[0],i=c[1],d=Object(o.useState)([]),l=Object(b.a)(d,2),u=l[0],x=l[1],m=ze();return Object(o.useLayoutEffect)((function(){Vt().then((function(e){1===e.ok&&r(e.data)}))}),[m]),Object(o.useLayoutEffect)((function(){Wt().then((function(e){i(e)}))}),[]),Object(S.jsxs)(N.Provider,{value:{user:n,setUser:r,userList:s,setUserList:i,postData:u,setPostData:x},children:[Object(S.jsx)(p.a,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0}),Object(S.jsx)(Gt,{children:Object(S.jsxs)(j.a,{children:[Object(S.jsx)(Nt,{}),Object(S.jsx)(Qt,{children:Object(S.jsx)(pt,{})}),Object(S.jsx)(Jt,{})]})})]})};i.a.render(Object(S.jsxs)(c.a.StrictMode,{children:[Object(S.jsx)(d.a,{styles:Object(d.b)(Tt||(Tt=Object(a.a)(["",""])),l)}),Object(S.jsx)(Xt,{})]}),document.getElementById("root"))}},[[269,1,2]]]);
//# sourceMappingURL=main.42a8ed46.chunk.js.map